<!DOCTYPE html>
<html>

	
	    <head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  
    <meta content="Python元类" name="description">
  
  
    <meta name="keywords" content="Python,metaclass">
  
  <meta name="author" content="">

  <title>
    
        |Python 元类
    
  </title>
  <!-- favicon -->
  <link rel="shortcut icon" href="/static/img/favicon.ico">

  <!-- Third-party CSS -->
  <link href="/bower_components/normalize-css/normalize.min.css" rel="stylesheet">
  <link href="/bower_components/bootstrap/dist/css/bootstrap.min.css" rel="stylesheet">
  <link href="/bower_components/animate.css/animate.min.css" rel="stylesheet">
  <link href="/bower_components/components-font-awesome/css/font-awesome.min.css" rel="stylesheet">
  <link href="/static/font-mfizz/font-mfizz.css" rel="stylesheet">
  <!-- <link href="/bower_components/toastr/toastr.min.css" rel="stylesheet"> -->
  <link href="/bower_components/jquery.gritter/css/jquery.gritter.css" rel="stylesheet">
  <link rel="stylesheet" href="/search/css/cb-search.css">

  <!-- Custom styles for this template -->
  <link href="/static/css/style.min.css" rel="stylesheet">
  <link href="/static/css/pygments.css" rel="stylesheet">

  <!-- Scripts -->
  <script src="/bower_components/jquery/dist/jquery.min.js"></script>
  <script src="/search/js/bootstrap3-typeahead.min.js"></script>
  <script type="text/javascript">
    $(document).ready(function () {
      var initial = 0;
      var show = true;

      var toggleSearch = function (visible) {
        initial = 0;
        show = !visible;
        var visibility = visible ? 'block' : 'none';

        $("#search-content").val("");
        $(".search-tool").css("display", visibility);
      };

      var shouldToggle = function (time) {
        var gap = time - initial;
        initial = time;
        return gap < 500;
      };

      $(document).keyup(function (e) {
        var now = new Date().getTime();
        if (e.keyCode == 17 && shouldToggle(now)) {
          toggleSearch(show);
        } else if (e.keyCode == 27) {
          toggleSearch(false);
        }
      });

      $("#search-content").keyup(function (e) {
        var now = new Date().getTime();
        if (e.keyCode == 17 && shouldToggle(now)) {
          toggleSearch(show);
        }
      });

      $("#close-btn").click(function () {
        toggleSearch(false);
      });

      $("#search-btn").click(function() {
        toggleSearch(true);
      });

      $.getJSON("/search/cb-search.json")
        .done(function (data) {
          if (data.code == 0) {
            $("#search-content").typeahead({
              source: data.data,
              displayText: function (item) {
                return item.title;
              },
              afterSelect: function (item) {
                window.location.href = item.url;
              }
            });
          }
        });
    });
  </script>

  <script>
    $(function(){
        $("pre").css('display','block');
    });
  </script>
  <!-- Mainly scripts -->
  <script src="/bower_components/bootstrap/dist/js/bootstrap.min.js"></script>
  <script src="/bower_components/metisMenu/dist/metisMenu.min.js"></script>
  <script src="/bower_components/jquery-slimscroll/jquery.slimscroll.min.js"></script>

  <!-- Peity -->
  <script src="/bower_components/peity/jquery.peity.min.js"></script>

  <script src="/bower_components/PACE/pace.min.js"></script>
  <script src="/bower_components/wow/dist/wow.min.js"></script>
  <!-- Custom and plugin javascript -->
  <script src="/static/js/inspinia.js"></script>

  <!-- Rickshaw -->
  <script src="/bower_components/rickshaw/vendor/d3.v3.js"></script>
  <script src="/bower_components/rickshaw/rickshaw.min.js"></script>


  <!-- jPages -->
  <script src="/static/js/jPages.js"></script>
  <script src="/static/js/js.js"></script>
  <script id="dsq-count-scr" src="//jalpc.disqus.com/count.js" async></script>
  <script type="text/javascript">
        $(function(){
          /* initiate the plugin */
          $("div.pag-holder").jPages({
              containerID  : "pag-itemContainer",
              perPage      : 5,  /* num of items per page */
              startPage    : 1,
              startRange   : 1,
              midRange     : 3,
              endRange     : 1
          });
      });
  </script>

<!-- GrowingIO -->

<!-- cb-search -->
<!-- <script src="/search/js/cb-search.js"></script> -->
</head>

	


<body id="page-top" class="landing-page">

	
	    <div class="search-tool"
      style="position: fixed; top: 0px ; bottom: 0px; left: 0px; right:  0px; opacity: 0.95; background-color: #111111; z-index: 9999; display: none;">
    <input type="text" class="form-control search-content" id="search-content" style="position: fixed; top: 60px" placeholder="Search Blog">

    <div style="position: fixed; top: 16px; right: 16px; z-index: 9999;">
        <img src="/search/img/cb-close.png" id="close-btn"/>
    </div>
</div>

<div style="position: fixed; right: 16px; bottom: 20px; z-index: 9999;">
    <img src="/search/img/cb-search.png"  id="search-btn"  title="Double click Ctrl"/>
</div>

<div class="navbar-wrapper">
        <nav class="navbar navbar-default navbar-fixed-top" role="navigation">
            <div class="container">
                <div class="navbar-header page-scroll">
                    <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
                        <span class="sr-only">Toggle navigation</span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                    </button>
                    <a class="navbar-brand" href="/"></a>
                </div>
                <div id="navbar" class="navbar-collapse collapse">
                    <ul class="nav navbar-nav navbar-right">
                        <li><a class="page-scroll" href="blog/"></a></li>
                        
                            
                            <li>
                            
                            <a class="page-scroll" href="/blog/">Blog</a></li>
                        
                            
                            <li>
                            
                            <a class="page-scroll" href="/python/">Python</a></li>
                        
                            
                            <li>
                            
                            <a class="page-scroll" href="/linux/">Linux</a></li>
                        
                            
                            <li>
                            
                            <a class="page-scroll" href="/html/">HTML</a></li>
                        
                            
                            <li>
                            
                            <a class="page-scroll" href="/database/">Database</a></li>
                        
                            
                            <li>
                            
                            <a class="page-scroll" href="/mac/">Mac</a></li>
                        
                            
                            <li>
                            
                            <a class="page-scroll" href="/life/">Life</a></li>
                        
                            
                            <li>
                            
                            <a class="page-scroll" href="/donate/">Donate</a></li>
                        
                    </ul>
                </div>
            </div>
        </nav>
</div>
<div id="inSlider" class="carousel carousel-fade" data-ride="carousel">
    <ol class="carousel-indicators">
        <li data-target="#inSlider" data-slide-to="0" class="active"></li>
        <li data-target="#inSlider" data-slide-to="1"></li>
    </ol>
    <div class="carousel-inner" role="listbox">
        <div class="item active">
            <div class="container">
                <div class="carousel-caption">
                </div>
                <div class="carousel-image wow zoomIn">
                    <!-- <img src="static/img/landing/laptop.png" alt="laptop"/> -->
                </div>
            </div>
            <!-- Set background for slide in css -->
            <div class="header-back one"></div>

        </div>
        <div class="item">
            <div class="container">
                <div class="carousel-caption blank">
                </div>
            </div>
            <!-- Set background for slide in css -->
            <div class="header-back two"></div>
        </div>
    </div>
    <a class="left carousel-control" href="#inSlider" role="button" data-slide="prev">
        <span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>
        <span class="sr-only">Previous</span>
    </a>
    <a class="right carousel-control" href="#inSlider" role="button" data-slide="next">
        <span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span>
        <span class="sr-only">Next</span>
    </a>
</div>

	

    <div class="wrapper wrapper-content  animated fadeInRight article">
    <div class="row">
        <div class="col-lg-10 col-lg-offset-1">
            <div class="ibox">
                <div class="ibox-content">
                    <div class="pull-right">
                    	
                        	<button class="btn btn-white btn-xs" type="button">Python</button>
                        
                    </div>
                    <div class="text-center article-title">
                    <span class="text-muted"><i class="fa fa-clock-o"></i> 17 Feb 2016</span>
                        <h1>
                            Python 元类
                        </h1>
                    </div>
                    	<h4 id="type">type()</h4>

<p>动态语言和静态语言最大的不同，就是函数和类的定义，不是编译时定义的，而是运行时动态创建的。</p>

<p>比方说我们要定义一个<code class="highlighter-rouge">Hello</code>的class，就写一个<code class="highlighter-rouge">hello.py</code>模块：</p>

<p><code class="highlighter-rouge">python
class Hello(object):
    def hello(self, name='world'):
        print('Hello, %s.' % name)
</code></p>

<p>当Python解释器载入<code class="highlighter-rouge">hello</code>模块时，就会依次执行该模块的所有语句，执行结果就是动态创建出一个<code class="highlighter-rouge">Hello</code>的class对象，测试如下：</p>

<p><code class="highlighter-rouge">
&gt;&gt;&gt; from hello import Hello
&gt;&gt;&gt; h = Hello()
&gt;&gt;&gt; h.hello()
Hello, world.
&gt;&gt;&gt; print(type(Hello))
&lt;type 'type'&gt;
&gt;&gt;&gt; print(type(h))
&lt;class 'hello.Hello'&gt;
</code></p>

<p><code class="highlighter-rouge">type()</code>函数可以查看一个类型或变量的类型，<code class="highlighter-rouge">Hello</code>是一个class，它的类型就是<code class="highlighter-rouge">type</code>，而<code class="highlighter-rouge">h</code>是一个实例，它的类型就是class <code class="highlighter-rouge">Hello</code>。</p>

<p>我们说class的定义是运行时动态创建的，而创建class的方法就是使用<code class="highlighter-rouge">type()</code>函数。</p>

<p><code class="highlighter-rouge">type()</code>函数既可以返回一个对象的类型，又可以创建出新的类型，比如，我们可以通过<code class="highlighter-rouge">type()</code>函数创建出<code class="highlighter-rouge">Hello</code>类，而无需通过<code class="highlighter-rouge">class Hello(object)...</code>的定义：</p>

<p><code class="highlighter-rouge">
&gt;&gt;&gt; def fn(self, name='world'): # 先定义函数
...     print('Hello, %s.' % name)
...
&gt;&gt;&gt; Hello = type('Hello', (object,), dict(hello=fn)) # 创建Hello class
&gt;&gt;&gt; h = Hello()
&gt;&gt;&gt; h.hello()
Hello, world.
&gt;&gt;&gt; print(type(Hello))
&lt;type 'type'&gt;
&gt;&gt;&gt; print(type(h))
&lt;class '__main__.Hello'&gt;
</code></p>

<p>要创建一个class对象，<code class="highlighter-rouge">type()</code>函数依次传入3个参数：</p>

<ol>
  <li>
    <p>class的名称；</p>
  </li>
  <li>
    <p>继承的父类集合，注意Python支持多重继承，如果只有一个父类，别忘了tuple的单元素写法；</p>
  </li>
  <li>
    <p>class的方法名称与函数绑定，这里我们把函数fn绑定到方法名hello上。</p>
  </li>
</ol>

<p>通过<code class="highlighter-rouge">type()</code>函数创建的类和直接写class是完全一样的，因为Python解释器遇到class定义时，仅仅是扫描一下class定义的语法，然后调用<code class="highlighter-rouge">type()</code>函数创建出class。</p>

<p>正常情况下，我们都用<code class="highlighter-rouge">class Xxx...</code>来定义类，但是，<code class="highlighter-rouge">type()</code>函数也允许我们动态创建出类来，也就是说，动态语言本身支持运行期动态创建类，这和静态语言有非常大的不同，要在静态语言运行期创建类，必须构造源代码字符串再调用编译器，或者借助一些工具生成字节码实现，本质上都是动态编译，会非常复杂。</p>

<h4 id="metaclass">metaclass</h4>

<p>除了使用<code class="highlighter-rouge">type()</code>动态创建类以外，要控制类的创建行为，还可以使用metaclass。</p>

<p>metaclass，直译为元类，简单的解释就是：</p>

<p>当我们定义了类以后，就可以根据这个类创建出实例，所以：先定义类，然后创建实例。</p>

<p>但是如果我们想创建出类呢？那就必须根据metaclass创建出类，所以：先定义metaclass，然后创建类。</p>

<p>连接起来就是：先定义metaclass，就可以创建类，最后创建实例。</p>

<p>所以，metaclass允许你创建类或者修改类。换句话说，你可以把类看成是metaclass创建出来的“实例”。</p>

<p>metaclass是Python面向对象里最难理解，也是最难使用的魔术代码。正常情况下，你不会碰到需要使用metaclass的情况，所以，以下内容看不懂也没关系，因为基本上你不会用到。</p>

<p>我们先看一个简单的例子，这个metaclass可以给我们自定义的MyList增加一个<code class="highlighter-rouge">add</code>方法：</p>

<p>定义<code class="highlighter-rouge">ListMetaclass</code>，按照默认习惯，metaclass的类名总是以Metaclass结尾，以便清楚地表示这是一个metaclass：</p>

<p>``` python
# metaclass是创建类，所以必须从<code class="highlighter-rouge">type</code>类型派生：
class ListMetaclass(type):
    def <strong>new</strong>(cls, name, bases, attrs):
        attrs[‘add’] = lambda self, value: self.append(value)
        return type.<strong>new</strong>(cls, name, bases, attrs)</p>

<p>class MyList(list):
    <strong>metaclass</strong> = ListMetaclass # 指示使用ListMetaclass来定制类
```</p>

<p>当我们写下<code class="highlighter-rouge">__metaclass__ = ListMetaclass</code>语句时，魔术就生效了，它指示Python解释器在创建<code class="highlighter-rouge">MyList</code>时，要通过<code class="highlighter-rouge">ListMetaclass.__new__()</code>来创建，在此，我们可以修改类的定义，比如，加上新的方法，然后，返回修改后的定义。</p>

<p><code class="highlighter-rouge">__new__()</code>方法接收到的参数依次是：</p>

<ol>
  <li>
    <p>当前准备创建的类的对象；</p>
  </li>
  <li>
    <p>类的名字；</p>
  </li>
  <li>
    <p>类继承的父类集合；</p>
  </li>
  <li>
    <p>类的方法集合。</p>
  </li>
</ol>

<p>测试一下<code class="highlighter-rouge">MyList</code>是否可以调用<code class="highlighter-rouge">add()</code>方法：</p>

<p><code class="highlighter-rouge">
&gt;&gt;&gt; L = MyList()
&gt;&gt;&gt; L.add(1)
&gt;&gt;&gt; L
[1]
</code></p>

<p>而普通的<code class="highlighter-rouge">list</code>没有<code class="highlighter-rouge">add()</code>方法：</p>

<p><code class="highlighter-rouge">
&gt;&gt;&gt; l = list()
&gt;&gt;&gt; l.add(1)
Traceback (most recent call last):
  File "&lt;stdin&gt;", line 1, in &lt;module&gt;
AttributeError: 'list' object has no attribute 'add'
</code></p>

<p>动态修改有什么意义？直接在<code class="highlighter-rouge">MyList</code>定义中写上<code class="highlighter-rouge">add()</code>方法不是更简单吗？正常情况下，确实应该直接写，通过metaclass修改纯属变态。</p>

<p>但是，总会遇到需要通过metaclass修改类定义的。ORM就是一个典型的例子。</p>

<p>ORM全称“Object Relational Mapping”，即对象-关系映射，就是把关系数据库的一行映射为一个对象，也就是一个类对应一个表，这样，写代码更简单，不用直接操作SQL语句。</p>

<p>要编写一个ORM框架，所有的类都只能动态定义，因为只有使用者才能根据表的结构定义出对应的类来。</p>

<p>让我们来尝试编写一个ORM框架。</p>

<p>编写底层模块的第一步，就是先把调用接口写出来。比如，使用者如果使用这个ORM框架，想定义一个<code class="highlighter-rouge">User</code>类来操作对应的数据库表<code class="highlighter-rouge">User</code>，我们期待他写出这样的代码：</p>

<p>``` python
class User(Model):
    # 定义类的属性到列的映射：
    id = IntegerField(‘id’)
    name = StringField(‘username’)
    email = StringField(‘email’)
    password = StringField(‘password’)</p>

<h1 id="section">创建一个实例：</h1>
<p>u = User(id=12345, name=’Michael’, email=’test@orm.org’, password=’my-pwd’)
# 保存到数据库：
u.save()
```</p>

<p>其中，父类<code class="highlighter-rouge">Model</code>和属性类型<code class="highlighter-rouge">StringField</code>、<code class="highlighter-rouge">IntegerField</code>是由ORM框架提供的，剩下的魔术方法比如<code class="highlighter-rouge">save()</code>全部由metaclass自动完成。虽然metaclass的编写会比较复杂，但ORM的使用者用起来却异常简单。</p>

<p>现在，我们就按上面的接口来实现该ORM。</p>

<p>首先来定义<code class="highlighter-rouge">Field</code>类，它负责保存数据库表的字段名和字段类型：</p>

<p><code class="highlighter-rouge">python
class Field(object):
    def __init__(self, name, column_type):
        self.name = name
        self.column_type = column_type
    def __str__(self):
        return '&lt;%s:%s&gt;' % (self.__class__.__name__, self.name)
</code></p>

<p>在<code class="highlighter-rouge">Field</code>的基础上，进一步定义各种类型的<code class="highlighter-rouge">Field</code>，比如<code class="highlighter-rouge">StringField</code>，<code class="highlighter-rouge">IntegerField</code>等等：</p>

<p>``` python
class StringField(Field):
    def <strong>init</strong>(self, name):
        super(StringField, self).<strong>init</strong>(name, ‘varchar(100)’)</p>

<p>class IntegerField(Field):
    def <strong>init</strong>(self, name):
        super(IntegerField, self).<strong>init</strong>(name, ‘bigint’)
```</p>

<p>下一步，就是编写最复杂的<code class="highlighter-rouge">ModelMetaclass</code>了：</p>

<p><code class="highlighter-rouge">python
class ModelMetaclass(type):
    def __new__(cls, name, bases, attrs):
        if name=='Model':
            return type.__new__(cls, name, bases, attrs)
        mappings = dict()
        for k, v in attrs.iteritems():
            if isinstance(v, Field):
                print('Found mapping: %s==&gt;%s' % (k, v))
                mappings[k] = v
        for k in mappings.iterkeys():
            attrs.pop(k)
        attrs['__table__'] = name # 假设表名和类名一致
        attrs['__mappings__'] = mappings # 保存属性和列的映射关系
        return type.__new__(cls, name, bases, attrs)
</code></p>

<p>以及基类<code class="highlighter-rouge">Model</code>：</p>

<p>``` python
class Model(dict):
    <strong>metaclass</strong> = ModelMetaclass</p>

<div class="highlighter-rouge"><pre class="highlight"><code>def __init__(self, **kw):
    super(Model, self).__init__(**kw)

def __getattr__(self, key):
    try:
        return self[key]
    except KeyError:
        raise AttributeError(r"'Model' object has no attribute '%s'" % key)

def __setattr__(self, key, value):
    self[key] = value

def save(self):
    fields = []
    params = []
    args = []
    for k, v in self.__mappings__.iteritems():
        fields.append(v.name)
        params.append('?')
        args.append(getattr(self, k, None))
    sql = 'insert into %s (%s) values (%s)' % (self.__table__, ','.join(fields), ','.join(params))
    print('SQL: %s' % sql)
    print('ARGS: %s' % str(args)) ```
</code></pre>
</div>

<p>当用户定义一个<code class="highlighter-rouge">class User(Model)</code>时，Python解释器首先在当前类<code class="highlighter-rouge">User</code>的定义中查找<code class="highlighter-rouge">__metaclass__</code>，如果没有找到，就继续在父类<code class="highlighter-rouge">Model</code>中查找<code class="highlighter-rouge">__metaclass__</code>，找到了，就使用<code class="highlighter-rouge">Model</code>中定义的<code class="highlighter-rouge">__metaclass__</code>的<code class="highlighter-rouge">ModelMetaclass</code>来创建<code class="highlighter-rouge">User</code>类，也就是说，metaclass可以隐式地继承到子类，但子类自己却感觉不到。</p>

<p>在<code class="highlighter-rouge">ModelMetaclass</code>中，一共做了几件事情：</p>

<ol>
  <li>
    <p>排除掉对<code class="highlighter-rouge">Model</code>类的修改；</p>
  </li>
  <li>
    <p>在当前类（比如<code class="highlighter-rouge">User</code>）中查找定义的类的所有属性，如果找到一个Field属性，就把它保存到一个<code class="highlighter-rouge">__mappings__</code>的dict中，同时从类属性中删除该Field属性，否则，容易造成运行时错误；</p>
  </li>
  <li>
    <p>把表名保存到<code class="highlighter-rouge">__table__</code>中，这里简化为表名默认为类名。</p>
  </li>
</ol>

<p>在<code class="highlighter-rouge">Model</code>类中，就可以定义各种操作数据库的方法，比如<code class="highlighter-rouge">save()</code>，<code class="highlighter-rouge">delete()</code>，<code class="highlighter-rouge">find()</code>，<code class="highlighter-rouge">update</code>等等。</p>

<p>我们实现了<code class="highlighter-rouge">save()</code>方法，把一个实例保存到数据库中。因为有表名，属性到字段的映射和属性值的集合，就可以构造出INSERT语句。</p>

<p>编写代码试试：</p>

<p><code class="highlighter-rouge">python
u = User(id=12345, name='Michael', email='test@orm.org', password='my-pwd')
u.save()
</code></p>

<p>输出如下：</p>

<p><code class="highlighter-rouge">
Found model: User
Found mapping: email ==&gt; &lt;StringField:email&gt;
Found mapping: password ==&gt; &lt;StringField:password&gt;
Found mapping: id ==&gt; &lt;IntegerField:uid&gt;
Found mapping: name ==&gt; &lt;StringField:username&gt;
SQL: insert into User (password,email,username,uid) values (?,?,?,?)
ARGS: ['my-pwd', 'test@orm.org', 'Michael', 12345]
</code></p>

<p>可以看到，<code class="highlighter-rouge">save()</code>方法已经打印出了可执行的SQL语句，以及参数列表，只需要真正连接到数据库，执行该SQL语句，就可以完成真正的功能。</p>

<p>不到100行代码，我们就通过metaclass实现了一个精简的ORM框架，完整的代码从这里下载：</p>

<p><a href="https://github.com/michaelliao/learn-python/blob/master/metaclass/simple_orm.py">https://github.com/michaelliao/learn-python/blob/master/metaclass/simple_orm.py</a></p>

<p>最后解释一下类属性和实例属性。直接在class中定义的是类属性：</p>

<p><code class="highlighter-rouge">python
class Student(object):
    name = 'Student'
</code></p>

<p>实例属性必须通过实例来绑定，比如<code class="highlighter-rouge">self.name = 'xxx'</code>。来测试一下：</p>

<p>```
»&gt; # 创建实例s：
»&gt; s = Student()
»&gt; # 打印name属性，因为实例并没有name属性，所以会继续查找class的name属性：
»&gt; print(s.name)
Student
»&gt; # 这和调用Student.name是一样的：
»&gt; print(Student.name)
Student
»&gt; # 给实例绑定name属性：
»&gt; s.name = ‘Michael’
»&gt; # 由于实例属性优先级比类属性高，因此，它会屏蔽掉类的name属性：
»&gt; print(s.name)
Michael
»&gt; # 但是类属性并未消失，用Student.name仍然可以访问：
»&gt; print(Student.name)
Student
»&gt; # 如果删除实例的name属性：
»&gt; del s.name
»&gt; # 再次调用s.name，由于实例的name属性没有找到，类的name属性就显示出来了：
»&gt; print(s.name)
Student</p>

<p>```</p>

<p>因此，在编写程序的时候，千万不要把实例属性和类属性使用相同的名字。</p>

<p>在我们编写的ORM中，<code class="highlighter-rouge">ModelMetaclass</code>会删除掉User类的所有类属性，目的就是避免造成混淆。</p>

<p>转自<a href="http://www.liaoxuefeng.com">廖雪峰</a>的网站</p>

                    <hr>
                    <div class="row">
                        <div class="col-md-6">
                                <h5 style="display: inline;">Tags:</h5>
                                
                                    <button class="btn btn-white btn-xs" type="button">metaclass</button>
                                
                        </div>
                        <div class="col-md-6">
                            <div class="small text-right">
                                <h5>Stats:</h5>
                                <div>
                                
                                
                                </div>
                            </div>
                        </div>
                    </div>
                    <br>
                    <div class="row">
                        <div class="col-lg-12">
                            <!-- donate -->
                            <div class="text-center">
<a class="btn btn-warning  dim btn-large-dim btn-outline" href="/donate/"><i class="fa fa-smile-o"></i></a>
</div>

                            <br>
                            <!-- share -->
                            
                            <br>
                            <!-- comment -->
                            



                        </div>
                    </div>

                </div>
            </div>
        </div>
    </div>

</div>


	
	    <script src="/static/js/scroll.js"></script>

<!-- Baidu analytics -->


<!-- Google analytics -->






<script async src="/static/js/count.min.js"></script>

	

</body>
</html>
